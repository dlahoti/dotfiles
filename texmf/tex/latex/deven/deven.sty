\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{deven}[2017/03/02 Deven custom macros]

\RequirePackage{amssymb,amsmath,amsfonts,amsthm,mathtools,mathrsfs}
\RequirePackage{physics, slashed}
  \let\abs\relax
  \let\norm\relax
  \let\dd\relax
  \let\Tr\relax
  \let\Res\relax
\RequirePackage[american]{babel}
\RequirePackage[no-math]{fontspec}
\RequirePackage[shortlabels]{enumitem}
\RequirePackage{ifthen}
\RequirePackage{xparse}
\RequirePackage{clrscode4e}
  \let\ident\id
  \let\id\relax
\RequirePackage{csquotes}
\RequirePackage[usenames,dvipsnames,svgnames,table]{xcolor}
\RequirePackage[protrusion=true,expansion=true]{microtype}
\RequirePackage[type1]{libertine}
\RequirePackage[supstfm=libertinesups]{superiors}
\RequirePackage[varqu]{inconsolata}
\RequirePackage[libertine,vvarbb]{newtxmath} %smallerops
\RequirePackage[T1,euler-digits,small]{eulervm}
  \let\varmathbf=\mathbf\relax
  \let\mathbf=\mathbold\relax
  \DeclareMathAlphabet\mathcal{OMS}{cmsy}{m}{n}
  \SetMathAlphabet\mathcal{bold}{OMS}{cmsy}{b}{n}
  \mathchardef\mathhyphen="2D

\DeclareOption{6046}{%
  \let\reals\relax
  \let\integers\relax
  \let\naturals\relax
  \let\rationals\relax
  \let\complex\relax
  \let\abs\relax
  \let\card\relax
  \let\norm\relax
  \let\floor\relax
  \let\ceil\relax
  \let\sbrace\relax
  \let\cbrace\relax
  \let\paren\relax
  \let\prob\relax
  \let\expect\relax
  \let\expectsq\relax
  \let\variance\relax
  \let\choose\relax
  \let\goesto\relax
  \let\pmod\relax
  \let\matx\relaj
  \let\Adj\relax
  \let\percent\relax
  \let\transpose\relax
  \let\proof\relax
}

\ProcessOptions\relax

\renewcommand{\rmdefault}{minlibertine}
\setmainfont[Ligatures={Required, TeX, Common}, Numbers={Proportional, OldStyle}]{Linux Libertine O}
\setsansfont[Ligatures={Required, TeX, Common}, Numbers={Proportional, OldStyle}]{Linux Biolinum O}
\newfontfamily{\ligatured}[Ligatures={Required, TeX, Common, Contextual, Rare, Historic}, Numbers={Proportional, OldStyle}]{Linux Libertine O}
\setmonofont[StylisticSet={1,3}]{Inconsolatazi4}
\MakeAutoQuote{<}{>}
\linespread{1.25}

\newcommand{\TODO}[1][TODO]{{\color{red}\ttfamily{#1}}}

% paired delimiters
  \DeclarePairedDelimiter{\prn}{(}{)}
  \DeclarePairedDelimiter{\dprn}{(\!(}{)\!)}
  \DeclarePairedDelimiter{\brk}{[}{]}
  \DeclarePairedDelimiter{\dbrk}{[\![}{]\!]}
  \DeclarePairedDelimiter{\brc}{\{}{\}}
  \DeclarePairedDelimiter{\ang}{\langle}{\rangle}
  \DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
  \DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
  \DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
  \let\ceil\relax
    \DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}

% theorem environments
  \newtheoremstyle{plain}{\topsep}{\topsep}{\slshape}{}{\bfseries}{.}{5pt plus 1pt minus 1pt}{}
  \newtheorem{theorem}{Theorem}
  \newtheorem{lemma}{Lemma}
  \newtheorem{proposition}{Proposition}
  \newtheorem{corollary}{Corollary}
  \newtheorem{definition}{Definition}
  \newtheorem{hypothesis}{Hypothesis}
  \newtheorem{exercise}{Exercise}
  \newtheorem*{theorem*}{Theorem}
  \newtheorem*{lemma*}{Lemma}
  \newtheorem*{proposition*}{Proposition}
  \newtheorem*{corollary*}{Corollary}
  \newtheorem*{definition*}{Definition}
  \newtheorem*{hypothesis*}{Hypothesis}
  \newtheorem*{exercise*}{Exercise}

% general
  \let\varvec\vec\relax
  \renewcommand*{\vec}[1]{\mathbf{#1}}
  \newcommand*{\conj}[1]{\overline{#1}}
  \def\closure{\@ifstar\overline\bar}
  \DeclareMathOperator{\dom}{dom}
  \DeclareMathOperator{\im}{im}
  \newcommand{\id}{\mathrm{id}}
  \newcommand{\isom}{\cong}
  \newcommand{\from}{\leftarrow}
  \newcommand{\bij}{\xrightarrow{\sim}}
  \newcommand{\inj}{\hookrightarrow}
  \newcommand{\surj}{\twoheadrightarrow}
  \newcommand{\tensor}{\otimes}
  \DeclareMathOperator{\res}{res}
  \DeclareMathOperator{\Hom}{Hom}
  \newcommand{\defeq}{\coloneqq}
  % use \varphi instead of \phi by default
    \let\temp\phi
    \let\phi\varphi
    \let\varphi\temp
  % same for \varnothing and \emptyset
    \let\temp\emptyset
    \let\emptyset\varnothing
    \let\varnothing\temp
    \let\temp\relax

% computer science
  \DeclareMathOperator{\polylog}{polylog}

% number theory
  \newcommand{\divides}{\mid}
  \newcommand{\ndivides}{\nmid}
  \DeclareMathOperator{\Cl}{Cl}
  \DeclareMathOperator{\Spl}{Spl}
  \DeclareMathOperator{\disc}{disc}
  \newcommand{\legendre}[2]{\genfrac{(}{)}{}{}{#1}{#2}}
  \DeclareMathOperator{\val}{val}
  \newcommand{\Frob}{\mathrm{Frob}}

% analysis
  \newcommand{\dd}{\mathop{}\!\mathrm{d}}
  \newcommand*{\der}[3][1]{\ifthenelse{\equal{#1}{1}}{\frac{\dd #2}{\dd #3}}{\frac{\dd^#1 #2}{{\dd #3}^#1}}}
  \newcommand*{\pd}[3][1]{\ifthenelse{\equal{#1}{1}}{\frac{\partial #2}{\partial #3}}{\frac{\partial^#1 #2}{{\partial #3}^#1}}}
  \DeclareMathOperator{\bdry}{bdry}
  \DeclareMathOperator{\interior}{int}
  \DeclareMathOperator{\covol}{covol}

% probability
  \DeclareMathOperator{\Expect}{E}
  \DeclareMathOperator{\Var}{Var}

% algebra
  \newcommand{\GL}{\mathrm{GL}}
  \newcommand{\SL}{\mathrm{SL}}
  \DeclareMathOperator{\Tr}{Tr}
  \newcommand{\N}{\mathrm{N}}
  \newcommand{\herm}{\dagger}
  \DeclareMathOperator{\Ind}{Ind}
  \DeclareMathOperator{\Res}{Res}
  \newcommand{\dominatedby}{\triangleleft}
  \newcommand{\dominatedbyeq}{\trianglelefteq}
  \newcommand{\dominates}{\triangleright}
  \newcommand{\dominateseq}{\trianglerighteq}
  \def\residue{\@ifstar\overline\bar}
  \DeclareMathOperator{\Gal}{Gal}
  \DeclareMathOperator{\Aut}{Aut}
  \DeclareMathOperator{\Frac}{Frac}
  \DeclareMathOperator{\Spec}{Spec}
  \newcommand*{\completion}[1]{\widehat{#1}}
  \def\dual{\@ifstar\widehat\hat}
  \DeclareMathOperator{\charf}{char}
  \newcommand{\nsubgrp}{\trianglelefteq}
  \newcommand{\nsupgrp}{\trianglerighteq}
  \newcommand{\semitimes}{\rtimes}
  \DeclareMathOperator{\Stab}{Stab}

% algebraic geometry
  \DeclareMathOperator{\Div}{Div}
  \let\div\relax
  \DeclareMathOperator{\div}{div}
  \DeclareMathOperator{\Pic}{Pic}
  \DeclareMathOperator{\Supp}{Supp}
  \newcommand{\sh}{\mathrm{sh}}

% logic and set theory
  \DeclareMathOperator{\Succ}{S}
  \DeclareMathOperator{\fst}{fst}
  \DeclareMathOperator{\snd}{snd}
  \def\card{\@ifstar\@@card\@card}
    \newcommand*{\@card}[1]{\textrm{\#}#1}
    \newcommand*{\@@card}[1]{\textrm{\#}\prn*{#1}}
  \newcommand{\proves}{\vdash}
  \newcommand{\liff}{\leftrightarrow}
  \newcommand{\limpl}{\to}
  \newcommand*{\axiom}[1]{\textsc{\lowercase{#1}}}
  % define \lquot as corner quotes
    \newbox\gnBoxA
    \newdimen\gnCornerHgt
    \setbox\gnBoxA=\hbox{$\ulcorner$}
    \global\gnCornerHgt=\ht\gnBoxA
    \newdimen\gnArgHgt
    \def\lquot #1{%
    \setbox\gnBoxA=\hbox{$#1$}%
    \gnArgHgt=\ht\gnBoxA%
    \ifnum     \gnArgHgt<\gnCornerHgt \gnArgHgt=0pt%
    \else \advance \gnArgHgt by -\gnCornerHgt%
    \fi \raise\gnArgHgt\hbox{$\ulcorner$} \box\gnBoxA %
    \raise\gnArgHgt\hbox{$\urcorner$}}
  \newcommand*{\bq}[1]{\brk*{\lquot{#1}}}
  \DeclareMathOperator{\Bew}{Bew}
  \DeclareMathOperator{\isproof}{B}
  \DeclareMathOperator{\Con}{Con}
  \newcommand{\PA}{\mathrm{PA}}
  \newcommand{\QE}{\mathrm{Q_E}}
  \newcommand{\lbox}{\Box}
  \newcommand{\ldiam}{\Diamond}
  \newcommand{\power}{\mathscr{P}}
  \DeclareMathOperator{\cf}{cf}

% physics
  \newcommand{\outarrow}{\odot}
  \newcommand{\inarrow}{\otimes}

% category theory
  \newcommand{\@addhyphen}[1]{\def\ProcessedArgument{#1\mathhyphen}}
  \NewDocumentCommand{\category}{ >{\@addhyphen} o m }{\IfNoValueF{#1}{#1}\textup{\sffamily{#2}}}
  %\newcommand{\category}[2][]{\ifthenelse{\equal{#1}{}}{}{#1\mathhyphen}}
  % use variant limits
    \let\@projlim\varprojlim
    \let\@injlim\varinjlim
    \let\varprojlim\projlim
    \let\varinjlim\injlim
    \renewcommand{\projlim}{\@projlim\limits}
    \renewcommand{\injlim}{\@injlim\limits}
  \newcommand{\Mor}{\mathrm{Mor}}

\endinput
